<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2251px" height="972px" viewBox="-0.5 -0.5 2251 972" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-02-28T07:18:48.959Z&quot; agent=&quot;5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36&quot; etag=&quot;18FusXT_asBnIdbWn0Sy&quot; version=&quot;16.6.4&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;FC8UQQQgoNFkL7x8_ZMt&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="0" y="260" width="540" height="410" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="200" y="280" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 290px; margin-left: 270px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 16px">API Gateway App</font></div></div></div></foreignObject><text x="270" y="294" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">API Gateway App</text></switch></g><path d="M 150 420 L 169.86 420 L 169.86 553.71 L 182.99 553.64" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 188.24 553.61 L 181.26 557.15 L 182.99 553.64 L 181.22 550.15 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="10" y="325" width="140" height="190" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 420px; margin-left: 12px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><font style="font-size: 10px">AppModule</font></div><div style="font-size: 8px">imports: [</div><div style="font-size: 8px">    ClientsModule.register([</div><div style="font-size: 8px">      {</div><div style="font-size: 8px">        name: 'BILLING_SERVICE',</div><div style="font-size: 8px">        transport: Transport.KAFKA,</div><div style="font-size: 8px">        options: {</div><div style="font-size: 8px">          client: {</div><div style="font-size: 8px">            clientId: 'billing',</div><div style="font-size: 8px">            brokers: ['localhost:9092']</div><div style="font-size: 8px">          },</div><div style="font-size: 8px">          consumer: {</div><div style="font-size: 8px">            groupId: 'billing-consumer'</div><div style="font-size: 8px">          }</div><div style="font-size: 8px">        }</div><div style="font-size: 8px">      }</div><div style="font-size: 8px">    ])</div><div style="font-size: 8px">  ]</div></div></div></div></foreignObject><text x="12" y="422" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppModule...</text></switch></g><path d="M 350 435 L 350 483.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 488.88 L 346.5 481.88 L 350 483.63 L 353.5 481.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 444.14 318.63 L 444.14 280 L 444.46 123" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 444.14 323.88 L 440.64 316.88 L 444.14 318.63 L 447.64 316.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="220" y="325" width="260" height="110" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 380px; margin-left: 222px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-size: 10px">AppController</span><span><br /></span></div><div><span>@Controller()</span><br /></div><div>export class AppController {</div><div>  constructor(private readonly appService: AppService) {}</div><div><br /></div><div>  @Post()</div><div>  createOrder(@Body() createOrderRequest: CreateOrderRequest){</div><div>    this.appService.createOrder(createOrderRequest);</div><div>  }</div><div>}</div></div></div></div></foreignObject><text x="222" y="382" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppController...</text></switch></g><path d="M 349.86 815 L 349.86 851.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 349.86 856.88 L 346.36 849.88 L 349.86 851.63 L 353.36 849.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="190" y="490" width="320" height="120" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 550px; margin-left: 192px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-size: 10px">AppService</span></div><div><div><span>@Injectable()</span></div><div><span>export class AppService {</span></div><div><span>  constructor(</span></div><div><span>    @Inject('BILLING_SERVICE') private readonly billingClient: ClientKafka</span></div><div><span>  ) {}</span></div><div><span><br /></span></div><div><span>  createOrder({userId, price}: CreateOrderRequest) {</span></div><div><span>    this.billingClient.emit('order_created', new OrderCreatedEvent('123', userId, price))</span></div><div><span>  }</span></div><div><span>}</span></div></div></div></div></div></foreignObject><text x="192" y="552" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppService...</text></switch></g><rect x="0" y="860" width="2140" height="110" rx="16.5" ry="16.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 2138px; height: 1px; padding-top: 915px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 28px">APACHE KAFKA</font></div></div></div></foreignObject><text x="1070" y="917" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">APACHE KAFKA</text></switch></g><rect x="600" y="260" width="830" height="470" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="935" y="280" width="160" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 290px; margin-left: 1015px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 16px">Billing Microservices</font></div></div></div></foreignObject><text x="1015" y="294" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Billing Microservices</text></switch></g><rect x="10" y="550" width="150" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 580px; margin-left: 12px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><font style="font-size: 10px">Application Type</font></div><div style="font-size: 8px"><font style="font-size: 8px"><br /></font></div><div style="font-size: 8px"><font style="font-size: 8px">const app = </font></div><div style="font-size: 8px"><font style="font-size: 8px">await NestFactory.create(AppModule);</font></div><div style="font-size: 8px"><font style="font-size: 8px">await app.listen(3000);</font></div></div></div></div></foreignObject><text x="12" y="582" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">Application Type...</text></switch></g><rect x="620" y="510" width="280" height="180" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 600px; margin-left: 622px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><font style="font-size: 10px">Application Type</font></div><div style="font-size: 8px"><font style="font-size: 8px"><br /></font></div><div style="font-size: 8px"><div>const app = await NestFactory.createMicroservice&lt;MicroserviceOptions&gt;(</div><div>    AppModule,</div><div>    {</div><div>      transport: Transport.KAFKA,</div><div>      options: {</div><div>        client: {</div><div>          brokers: ['localhost:9092']</div><div>        },</div><div>        consumer: {</div><div>          groupId: 'billing-consumer'</div><div>        }</div><div>      },</div><div>    },</div><div>  )</div><div>app.listen();</div></div></div></div></div></foreignObject><text x="622" y="602" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">Application Type...</text></switch></g><path d="M 1125 481.37 L 1125 502.57 L 1125.5 529.84" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1125 476.12 L 1128.5 483.12 L 1125 481.37 L 1121.5 483.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1479.17 815.3 L 1479.29 810 L 1479.91 853.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1479.98 858.88 L 1476.38 851.93 L 1479.91 853.63 L 1483.38 851.83 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="930" y="325" width="390" height="150" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 400px; margin-left: 932px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-size: 10px">AppService</span></div><div><span><div>@Injectable()</div><div>export class AppService {</div><div>  constructor(</div><div>    @Inject('AUTH_SERVICE') private readonly authClient: ClientKafka,</div><div>  ) {}</div><div><br /></div><div>  handleOrderCreated(orderCreatedEvent: OrderCreatedEvent) {</div><div>    this.authClient.send('get_user', new GetUserRequest(orderCreatedEvent.userId)).subscribe((user) =&gt; {</div><div>      console.log(`Billing user with stripe ID ${user.stripeUserId} a price of $${orderCreatedEvent.price}...`);</div><div>    });</div><div>  }</div><div>}</div><div><br /></div></span></div></div></div></div></foreignObject><text x="932" y="402" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppService...</text></switch></g><rect x="930" y="530" width="460" height="160" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 610px; margin-left: 932px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-size: 10px">AppController</span><span><br /></span></div><div><div>@Controller()</div><div>export class AppController implements OnModuleInit {</div><div>  constructor(private readonly appService: AppService, @Inject('AUTH_SERVICE') private readonly authClient: ClientKafka) {}</div><div><br /></div><div>  @EventPattern('order_created')</div><div>  handleOrderCreated(data: any) {</div><div>    this.appService.handleOrderCreated(data.value);</div><div>  }</div><div><br /></div><div>  onModuleInit() {</div><div>    this.authClient.subscribeToResponseOf('get_user');</div><div>  }</div><div>}</div></div><div><br /></div></div></div></div></foreignObject><text x="932" y="612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppController...</text></switch></g><path d="M 750 400 L 923.63 400" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 928.88 400 L 921.88 403.5 L 923.63 400 L 921.88 396.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="620" y="305" width="130" height="190" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 400px; margin-left: 622px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><font style="font-size: 10px">AppModule</font></div><div style="font-size: 8px">imports: [</div><div style="font-size: 8px">    ClientsModule.register([</div><div style="font-size: 8px">      {</div><div style="font-size: 8px">        name: 'AUTH_SERVICE',</div><div style="font-size: 8px">        transport: Transport.KAFKA,</div><div style="font-size: 8px">        options: {</div><div style="font-size: 8px">          client: {</div><div style="font-size: 8px">            clientId: 'auth',</div><div style="font-size: 8px">            brokers: ['localhost:9092']</div><div style="font-size: 8px">          },</div><div style="font-size: 8px">          consumer: {</div><div style="font-size: 8px">            groupId: 'auth-consumer'</div><div style="font-size: 8px">          }</div><div style="font-size: 8px">        }</div><div style="font-size: 8px">      }</div><div style="font-size: 8px">    ])</div><div style="font-size: 8px">  ]</div></div></div></div></foreignObject><text x="622" y="402" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppModule...</text></switch></g><path d="M 1270.22 860 L 1270 696.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1270 691.12 L 1273.51 698.11 L 1270 696.37 L 1266.51 698.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1120" y="755" width="300" height="60" fill="#bac8d3" stroke="#23445d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 785px; margin-left: 1270px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: left ; font-size: 10px"><span style="font-size: 10px">Consume</span></div><span style="font-size: 10px">topic: order_created<br style="font-size: 10px" /></span><pre class="message-body" style="box-sizing: border-box ; font-size: 10px ; margin-top: 0px ; margin-bottom: 1rem ; overflow: auto ; color: rgb(255 , 255 , 255) ; text-align: left ; background-color: rgb(34 , 34 , 34)">{"orderId":"123","userId":"345","price":12.323}</pre></div></div></div></foreignObject><text x="1270" y="788" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">Consumetopic: order_created...</text></switch></g><path d="M 1014.81 860 L 1014.59 696.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1014.59 691.12 L 1018.1 698.11 L 1014.59 696.37 L 1011.1 698.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="830" y="755" width="270" height="60" fill="#bac8d3" stroke="#23445d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 785px; margin-left: 965px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="font-size: 10px"><span style="font-size: 10px">Consume</span></div><span style="font-size: 10px">topic: get_user.replay<br style="font-size: 10px" /></span><pre class="message-body" style="box-sizing: border-box ; font-size: 10px ; margin-top: 0px ; margin-bottom: 1rem ; overflow: auto ; color: rgb(255 , 255 , 255) ; background-color: rgb(34 , 34 , 34)">{"userId":"345","stripeUserId":"34523423"}</pre></div></div></div></foreignObject><text x="965" y="788" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">Consumetopic: get_user.replay...</text></switch></g><rect x="380" y="0" width="110" height="120" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 60px; margin-left: 435px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 14px">Post Request<br /></font><div style="background-color: rgb(255 , 255 , 254) ; line-height: 18px ; font-size: 14px"><div style="text-align: left"><font style="font-size: 14px">{</font></div><div style="text-align: left"><font style="font-size: 14px">    <span style="color: #a31515">"userId"</span>: <span style="color: #0451a5">"345"</span>,</font></div><div style="text-align: left"><font style="font-size: 14px">    <span style="color: #a31515">"price"</span>: <span style="color: #098658">12.323</span></font></div><div style="text-align: left"><font style="font-size: 14px">}   </font></div></div></div></div></div></foreignObject><text x="435" y="68" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="28px" text-anchor="middle">Post Req...</text></switch></g><rect x="360" y="180" width="170" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 190px; margin-left: 445px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">POST <span style="color: rgb(33 , 33 , 33) ; font-family: &quot;inter&quot; , , , &quot;blinkmacsystemfont&quot; , &quot;segoe ui&quot; , &quot;roboto&quot; , &quot;oxygen&quot; , &quot;ubuntu&quot; , &quot;cantarell&quot; , &quot;fira sans&quot; , &quot;droid sans&quot; , &quot;helvetica&quot; , &quot;arial&quot; , sans-serif ; font-size: 12px ; text-align: left ; background-color: rgb(255 , 255 , 255)">http://localhost:3000/</span></div></div></div></foreignObject><text x="445" y="194" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="14px" text-anchor="middle">POST http://localhost:30...</text></switch></g><rect x="200" y="755" width="300" height="60" fill="#60a917" stroke="#2d7600" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 785px; margin-left: 350px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: left ; font-size: 10px"><span style="font-size: 10px">Produce</span></div><span style="font-size: 10px">topic: order_created<br style="font-size: 10px" /></span><pre class="message-body" style="box-sizing: border-box ; font-size: 10px ; margin-top: 0px ; margin-bottom: 1rem ; overflow: auto ; color: rgb(255 , 255 , 255) ; text-align: left ; background-color: rgb(34 , 34 , 34)">{"orderId":"123","userId":"345","price":12.323}</pre></div></div></div></foreignObject><text x="350" y="788" fill="#ffffff" font-family="Helvetica" font-size="10px" text-anchor="middle">Producetopic: order_created...</text></switch></g><path d="M 350 610 L 350 755" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><rect x="1530" y="260" width="550" height="470" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="1725" y="285" width="150" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 295px; margin-left: 1800px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 16px">Auth Microservices</font></div></div></div></foreignObject><text x="1800" y="299" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Auth Microservices</text></switch></g><rect x="1550" y="380" width="70" height="30" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 395px; margin-left: 1552px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><font style="font-size: 10px">AppModule</font></div><div style="font-size: 8px">imports: [<span> ]</span></div></div></div></div></foreignObject><text x="1552" y="397" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppModule...</text></switch></g><path d="M 1920.14 510 L 1920.14 570 L 1920.14 583.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1920.14 588.88 L 1916.64 581.88 L 1920.14 583.63 L 1923.64 581.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1780" y="310" width="280" height="200" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 410px; margin-left: 1782px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-size: 10px">AppService</span></div><div><span><div>@Injectable()</div><div>export class AppService {</div><div>  private readonly users: any[] = [</div><div>    {</div><div>      userId: '123',</div><div>      stripeUserId: '982341',</div><div>    },</div><div>    {</div><div>      userId: '345',</div><div>      stripeUserId: '34523423',</div><div>    },</div><div>  ]</div><div><br /></div><div>  getUser(getUserRequest: GetUserRequest) {</div><div>    return this.users.find((user) =&gt; user.userId === getUserRequest.userId);</div><div>  }</div><div>}</div><div><br /></div></span></div></div></div></div></foreignObject><text x="1782" y="412" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppService...</text></switch></g><path d="M 1990.14 590 L 1990.14 570 L 1990.14 516.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1990.14 511.12 L 1993.64 518.12 L 1990.14 516.37 L 1986.64 518.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2040.14 710 L 2040.14 852.77" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2040.14 858.02 L 2036.64 851.02 L 2040.14 852.77 L 2043.64 851.02 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1840" y="590" width="220" height="120" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 650px; margin-left: 1842px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-size: 10px">AppController</span><span><br /></span></div><div><div>@Controller()</div><div>export class AppController {</div><div>  constructor(private readonly appService: AppService) {}</div><div><br /></div><div>  @EventPattern('get_user')</div><div>  getUser(data: any) {</div><div>    return this.appService.getUser(data.value);</div><div>  }</div><div>}</div></div><div><br /></div></div></div></div></foreignObject><text x="1842" y="652" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppController...</text></switch></g><rect x="1540" y="530" width="280" height="180" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 620px; margin-left: 1542px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><font style="font-size: 10px">Application Type</font></div><div style="font-size: 8px"><font style="font-size: 8px"><br /></font></div><div style="font-size: 8px"><div>const app = await NestFactory.createMicroservice&lt;MicroserviceOptions&gt;(</div><div>    AppModule,</div><div>    {</div><div>      transport: Transport.KAFKA,</div><div>      options: {</div><div>        client: {</div><div>          brokers: ['localhost:9092']</div><div>        },</div><div>        consumer: {</div><div>          groupId: 'billing-consumer'</div><div>        }</div><div>      },</div><div>    },</div><div>  )</div><div>app.listen();</div></div></div></div></div></foreignObject><text x="1542" y="622" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">Application Type...</text></switch></g><path d="M 1919.72 860 L 1919.03 716.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1919.01 711.12 L 1922.54 718.1 L 1919.03 716.37 L 1915.54 718.13 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1863" y="755" width="110" height="60" fill="#bac8d3" stroke="#23445d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 785px; margin-left: 1918px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="font-size: 10px"><span style="font-size: 10px">Consume</span></div><span style="font-size: 10px">topic: get_user<br style="font-size: 10px" /></span><pre class="message-body" style="box-sizing: border-box ; font-size: 10px ; margin-top: 0px ; margin-bottom: 1rem ; overflow: auto ; color: rgb(255 , 255 , 255) ; background-color: rgb(34 , 34 , 34)">{"userId":"345"}</pre></div></div></div></foreignObject><text x="1918" y="788" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">Consumetopic: get_user...</text></switch></g><rect x="1430" y="755" width="110" height="60" fill="#60a917" stroke="#2d7600" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 785px; margin-left: 1485px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="font-size: 10px"><span style="font-size: 10px">Produce</span></div><span style="font-size: 10px">topic: get_user<br style="font-size: 10px" /></span><pre class="message-body" style="box-sizing: border-box ; font-size: 10px ; margin-top: 0px ; margin-bottom: 1rem ; overflow: auto ; background-color: rgb(34 , 34 , 34)">{"userId":"345"}</pre></div></div></div></foreignObject><text x="1485" y="788" fill="#ffffff" font-family="Helvetica" font-size="10px" text-anchor="middle">Producetopic: get_user...</text></switch></g><path d="M 1320 400 L 1485 400 L 1485 755" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><rect x="1980" y="755" width="270" height="60" fill="#60a917" stroke="#2d7600" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 785px; margin-left: 2115px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="font-size: 10px"><span style="font-size: 10px">Produce</span></div><span style="font-size: 10px">topic: get_user.replay<br style="font-size: 10px" /></span><pre class="message-body" style="box-sizing: border-box ; font-size: 10px ; margin-top: 0px ; margin-bottom: 1rem ; overflow: auto ; background-color: rgb(34 , 34 , 34)">{"userId":"345","stripeUserId":"34523423"}</pre></div></div></div></foreignObject><text x="2115" y="788" fill="#ffffff" font-family="Helvetica" font-size="10px" text-anchor="middle">Producetopic: get_user.replay...</text></switch></g><rect x="360" y="820" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 830px; margin-left: 390px;"><div data-drawio-colors="color: #FF1F1F; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 31, 31); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style="font-size: 16px">Step 1</font></div></div></div></foreignObject><text x="390" y="833" fill="#FF1F1F" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Step 1</text></switch></g><rect x="1200" y="820" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 830px; margin-left: 1230px;"><div data-drawio-colors="color: #FF1F1F; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 31, 31); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style="font-size: 16px">Step 2</font></div></div></div></foreignObject><text x="1230" y="833" fill="#FF1F1F" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Step 2</text></switch></g><rect x="1410" y="820" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 830px; margin-left: 1440px;"><div data-drawio-colors="color: #FF1F1F; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 31, 31); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style="font-size: 16px">Step 3</font></div></div></div></foreignObject><text x="1440" y="833" fill="#FF1F1F" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Step 3</text></switch></g><rect x="1840" y="820" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 830px; margin-left: 1870px;"><div data-drawio-colors="color: #FF1F1F; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 31, 31); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style="font-size: 16px">Step 4</font></div></div></div></foreignObject><text x="1870" y="833" fill="#FF1F1F" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Step 4</text></switch></g><rect x="2050" y="820" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 830px; margin-left: 2080px;"><div data-drawio-colors="color: #FF1F1F; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 31, 31); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style="font-size: 16px">Step 5</font></div></div></div></foreignObject><text x="2080" y="833" fill="#FF1F1F" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Step 5</text></switch></g><rect x="1020" y="820" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 830px; margin-left: 1050px;"><div data-drawio-colors="color: #FF1F1F; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 31, 31); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style="font-size: 16px">Step 6</font></div></div></div></foreignObject><text x="1050" y="833" fill="#FF1F1F" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Step 6</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>